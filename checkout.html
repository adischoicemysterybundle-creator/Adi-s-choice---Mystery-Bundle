<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Checkout — Adi’s Choice</title>
<link rel="stylesheet" href="style.css" />
<style>
body {
background-color: #fffaf5;
font-family: 'Poppins', sans-serif;
color: #222;
margin: 0;
padding: 0;
}

.checkout-container {
max-width: 500px;
margin: 60px auto;
background: white;
padding: 40px;
border-radius: 12px;
box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.checkout-container img {
display: block;
margin: 0 auto 20px;
width: 130px;
}

h1 {
text-align: center;
color: #c4a13f;
}

form label {
display: block;
margin-top: 15px;
font-weight: 600;
}

form input, form select, form textarea {
width: 100%;
padding: 10px;
margin-top: 5px;
border: 1px solid #ddd;
border-radius: 8px;
font-size: 15px;
}

textarea {
resize: none;
}

button {
display: block;
width: 100%;
margin-top: 25px;
padding: 12px;
background: #c4a13f;
color: white;
font-weight: bold;
border: none;
border-radius: 8px;
cursor: pointer;
transition: 0.3s;
}

button:hover {
background: #b3912c;
}

.error {
color: red;
text-align: center;
margin-top: 10px;
}
</style>
</head>
<body>
<div class="checkout-container">
<img src="logo.jpeg" alt="Adi's Choice Logo" />
<h1>Checkout</h1>

<form id="checkoutForm">
<label for="name">Full Name</label>
<input type="text" id="name" name="name" required />

<label for="email">Email Address</label>
<input type="email" id="email" name="email" required />

<label for="bundleType">Mystery Bundle</label>
<select id="bundleType" name="bundleType" required>
<option value="">-- Choose your Mystery Bundle --</option>
<option value="Classic 1 item">Classic — 1 item</option>
<option value="Classic 5 items">Classic — 5 items</option>
<option value="Classic 10 items">Classic — 10 items</option>
<option value="Super Pick 1 item">Super Pick — 1 item</option>
<option value="Super Pick 5 items">Super Pick — 5 items</option>
<option value="Super Pick 10 items">Super Pick — 10 items</option>
<option value="Premium Pick 1 item">Premium Pick — 1 item</option>
<option value="Premium Pick 5 items">Premium Pick — 5 items</option>
</select>

<label for="bundlePrice">Total Amount (EUR)</label>
<input type="number" id="bundlePrice" name="bundlePrice" placeholder="Enter total price" required />

<label for="additionalInfo">Additional Info (e.g. preferred colors)</label>
<textarea id="additionalInfo" name="additionalInfo" rows="3" placeholder="Optional"></textarea>

<button type="submit">Place Order</button>
<p id="errorMsg" class="error"></p>
</form>
</div>

<script>
document.getElementById("checkoutForm").addEventListener("submit", async function(e) {
e.preventDefault();

const errorMsg = document.getElementById("errorMsg");
errorMsg.textContent = "";

const data = {
name: document.getElementById("name").value.trim(),
email: document.getElementById("email").value.trim(),
bundleType: document.getElementById("bundleType").value,
bundlePrice: document.getElementById("bundlePrice").value,
additionalInfo: document.getElementById("additionalInfo").value.trim()
};

try {
const res = await fetch("/api/sendEmail", {
method: "POST",
headers: { "Content-Type": "application/json" },
body: JSON.stringify(data)
});

if (res.ok) {
window.location.href = "thankyou.html";
} else {
const result = await res.json();
errorMsg.textContent = result.message || "Something went wrong. Please try again.";
}
} catch (err) {
console.error(err);
errorMsg.textContent = "An error occurred. Please try again.";
}
});
</script>
</body>
</html>
	

